<!doctype html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>È™∞ÂÆùËÆ∞ÂàÜÊùø</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet"><style>:root{--bg-dark:#0a0a0a;--bg-table:#0d4d2d;--gold:#d4af37;--gold-light:#f4d03f;--gold-dark:#b8860b;--red:#c41e3a;--blue:#2980b9;--white:#f5f5f5}*{margin:0;padding:0;box-sizing:border-box}body,html{height:100vh;width:100vw;overflow:hidden;background:#0a0a0a;font-family:'Noto Sans SC',sans-serif}body::before{content:'';position:fixed;top:0;left:0;right:0;bottom:0;background:radial-gradient(ellipse at center,rgba(13,51,32,.6) 0,#0a0a0a 70%);z-index:-1}.game-container{display:grid;grid-template-areas:"header header" "history main";grid-template-columns:200px 1fr;grid-template-rows:auto 1fr;height:100vh;width:100vw;gap:6px;padding:6px;box-sizing:border-box;overflow:hidden}.header{grid-area:header;display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background:linear-gradient(180deg,#3d2817 0,#1a1108 100%);border-radius:10px;border:3px solid var(--gold);box-shadow:0 4px 15px rgba(0,0,0,.7),inset 0 0 20px rgba(0,0,0,.3);gap:25px;overflow:visible;flex-wrap:nowrap;min-width:0}.title{font-family:'Ma Shan Zheng',cursive;font-size:2rem;color:var(--gold-light);text-shadow:2px 2px 4px #000,0 0 15px rgba(212,175,55,.4);flex-shrink:0;align-self:center}.round-and-clear-container{display:flex;flex-direction:column;gap:8px;flex:0 0 auto;flex-shrink:1;align-items:center;align-self:center}.round-counter{display:flex;align-items:center;justify-content:center;gap:8px;padding:8px 15px;background:linear-gradient(135deg,rgba(212,175,55,.2) 0,rgba(184,134,11,.2) 100%);border:2px solid var(--gold-dark);border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.3),inset 0 1px 0 rgba(255,255,255,.1);flex-shrink:0}.round-label{font-size:.9rem;color:var(--gold-light);font-weight:600;text-shadow:1px 1px 2px rgba(0,0,0,.8)}.round-number{font-size:1.4rem;font-weight:900;color:#fff;min-width:40px;text-align:center;background:linear-gradient(135deg,#2c3e50 0,#34495e 100%);padding:4px 12px;border-radius:6px;border:1px solid var(--gold-dark);box-shadow:inset 0 2px 4px rgba(0,0,0,.5),0 1px 2px rgba(0,0,0,.3);text-shadow:0 1px 2px rgba(0,0,0,.8)}.round-reset-btn{padding:4px 12px;font-size:.75rem;background:linear-gradient(180deg,#e74c3c 0,#c0392b 100%);color:#fff;border:1px solid #922b21;border-radius:4px;cursor:pointer;font-weight:700;box-shadow:0 2px 0 #922b21,0 3px 6px rgba(231,76,60,.3);transition:all .15s;text-shadow:0 1px 2px rgba(0,0,0,.5)}.round-reset-btn:hover{background:linear-gradient(180deg,#ec7063 0,#e74c3c 100%);transform:translateY(-1px);box-shadow:0 3px 0 #922b21,0 4px 8px rgba(231,76,60,.4)}.round-reset-btn:active{transform:translateY(1px);box-shadow:0 1px 0 #922b21,0 2px 4px rgba(231,76,60,.3)}.header-chip-section{flex:0 1 auto;display:flex;align-items:center;justify-content:center;gap:15px;align-self:center;background:rgba(0,0,0,.5);padding:8px 15px;border-radius:40px;border:1px solid rgba(212,175,55,.3);box-shadow:inset 0 2px 8px rgba(0,0,0,.4);min-width:0;flex-shrink:0}.chip-selector{display:flex;gap:10px;flex-shrink:0;min-width:0}.chip{width:42px;height:42px;min-width:42px;min-height:42px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:900;color:#fff;border:3px dashed rgba(255,255,255,.5);cursor:pointer;transition:all .2s;box-shadow:0 3px 6px rgba(0,0,0,.4),inset 0 -2px 4px rgba(0,0,0,.2);text-shadow:1px 1px 2px rgba(0,0,0,.8);flex-shrink:0}.chip:hover{transform:translateY(-2px);box-shadow:0 5px 10px rgba(0,0,0,.5)}.chip.selected{border-style:solid;box-shadow:0 0 15px #fff,0 6px 12px rgba(0,0,0,.5);transform:scale(1.1) translateY(-2px)}.chip[data-value="10"]{background:radial-gradient(circle at 30% 30%,#fff,#e0e0e0);color:#fff;font-weight:700}.chip[data-value="30"]{background:radial-gradient(circle at 30% 30%,#2196f3,#0d47a1)}.chip[data-value="50"]{background:radial-gradient(circle at 30% 30%,#4caf50,#1b5e20)}.chip[data-value="100"]{background:radial-gradient(circle at 30% 30%,#f44336,#b71c1c)}.chip[data-value="300"]{background:radial-gradient(circle at 30% 30%,#9c27b0,#4a148c)}.chip[data-value="500"]{background:radial-gradient(circle at 30% 30%,#ff9800,#e65100)}.header-bet-info{display:flex;align-items:center;gap:12px;color:#fff;font-size:.95rem;border-left:1px solid rgba(255,255,255,.2);padding-left:15px}.header-bet-info strong{color:var(--gold-light);font-size:1.3rem;text-shadow:0 0 8px rgba(244,208,63,.5)}.header-clear-btn{padding:4px 12px;background:linear-gradient(to bottom,#e74c3c,#c0392b);color:#fff;border:1px solid #922b21;border-radius:5px;font-size:.8rem;font-weight:700;cursor:pointer;box-shadow:0 2px 4px rgba(0,0,0,.3)}.header-clear-btn:hover{background:linear-gradient(to bottom,#ec7063,#e74c3c)}.score-section{display:flex;gap:12px;flex:1 1 auto;min-width:0;flex-wrap:wrap;align-self:center}.score-cards-container{display:flex;gap:12px;width:100%;max-width:100%;min-width:0;flex:1;box-sizing:border-box;flex-wrap:nowrap}.score-card{display:flex;align-items:center;gap:10px;padding:6px 15px;border-radius:8px;border:2px solid;box-shadow:0 3px 8px rgba(0,0,0,.4);white-space:nowrap;min-width:0;flex:1}.score-card h2{font-size:1rem;color:#fff;text-shadow:1px 1px 2px #000;flex-shrink:0}.score-card.banker{background:linear-gradient(135deg,#c41e3a,#922b21);border-color:#ff6b6b;flex:1;min-width:0}.score-card.player{background:linear-gradient(135deg,#2980b9,#1a5276);border-color:#5dade2;flex:1;min-width:0}.clear-bets-btn{display:flex;align-items:center;justify-content:center;gap:6px;padding:8px 16px;background:linear-gradient(135deg,#e74c3c,#c0392b);border:2px solid #ff6b6b;border-radius:8px;color:#fff;font-size:.9rem;font-weight:700;cursor:pointer;box-shadow:0 3px 8px rgba(231,76,60,.4),inset 0 1px 0 rgba(255,255,255,.2);transition:all .2s ease;text-shadow:0 1px 2px rgba(0,0,0,.5);flex-shrink:0;white-space:nowrap;width:100%}.clear-bets-btn:hover{background:linear-gradient(135deg,#ec7063,#e74c3c);transform:translateY(-2px);box-shadow:0 5px 12px rgba(231,76,60,.5),inset 0 1px 0 rgba(255,255,255,.3)}.clear-bets-btn:active{transform:translateY(0);box-shadow:0 2px 6px rgba(231,76,60,.4),inset 0 2px 4px rgba(0,0,0,.3)}.clear-bets-btn .btn-icon{font-size:1rem}.clear-bets-btn .btn-text{font-size:.9rem}.score-display{font-size:1.5rem;font-weight:900;color:#fff;min-width:60px;text-align:center;text-shadow:0 0 10px rgba(255,255,255,.3);flex-shrink:0;transition:all .3s ease}.score-display.flash-increase{animation:flashIncrease .8s cubic-bezier(.34,1.56,.64,1)}@keyframes flashIncrease{0%{transform:scale(1);color:#fff}50%{transform:scale(1.8);color:gold}100%{transform:scale(1);color:#fff}}.score-controls{display:flex;gap:3px;flex-shrink:0}.score-btn{padding:2px 6px;min-width:42px;height:24px;font-size:.7rem;border-radius:4px;border:1px solid rgba(255,255,255,.3);background:rgba(255,255,255,.1);color:#fff;cursor:pointer;white-space:nowrap}.score-btn:hover{background:rgba(255,255,255,.2)}.main-content{grid-area:main;display:flex;flex-direction:column;gap:6px;min-height:0;min-width:0;overflow:hidden}.left-panel{display:flex;align-items:center;gap:15px;background:linear-gradient(180deg,#2c3e50 0,#1a252f 100%);border-radius:10px;padding:8px 15px;border:3px solid var(--gold);box-shadow:0 5px 15px rgba(0,0,0,.6),inset 0 1px 0 rgba(255,255,255,.1),inset 0 -2px 5px rgba(0,0,0,.3);position:relative;flex-shrink:0}.left-panel::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,var(--gold-light),transparent);opacity:.5}.dice-input-section{flex:1;display:flex;flex-direction:column;gap:5px}.dice-input-section h3{color:var(--gold-light);font-size:.9rem;font-weight:900;letter-spacing:2px;text-align:center;margin:0;text-shadow:0 0 10px rgba(244,208,63,.6),0 2px 4px rgba(0,0,0,.8);text-transform:uppercase}.dice-inputs{display:flex;gap:15px;justify-content:center;flex:1;min-width:0}.dice-input-group{background:linear-gradient(145deg,rgba(0,0,0,.5),rgba(0,0,0,.7));border:2px solid rgba(212,175,55,.4);border-radius:6px;padding:5px 8px;display:flex;align-items:center;gap:8px;box-shadow:inset 0 2px 4px rgba(0,0,0,.5),0 2px 8px rgba(0,0,0,.3);transition:all .3s;flex:1;min-width:0;overflow:visible}.dice-input-group:hover{border-color:rgba(212,175,55,.6);box-shadow:inset 0 2px 4px rgba(0,0,0,.5),0 2px 8px rgba(0,0,0,.3),0 0 10px rgba(212,175,55,.2)}.dice-input-group label{color:var(--gold-light);font-size:.95rem;font-weight:900;text-shadow:0 1px 3px rgba(0,0,0,.8);min-width:40px}.dice-selector{display:flex;gap:5px;flex:1;min-width:0;justify-content:center;flex-wrap:wrap;align-content:flex-start}.dice-btn{width:36px;height:36px;min-width:36px!important;flex-shrink:0!important;border:none;border-radius:6px;background:0 0;cursor:pointer;transition:all .12s ease;position:relative;padding:0;display:flex;align-items:center;justify-content:center;box-sizing:border-box}.dice-btn .dice{box-shadow:0 3px 0 #a0a0a0,0 4px 8px rgba(0,0,0,.5),inset 0 1px 0 #fff,inset 0 -1px 2px rgba(0,0,0,.1)}.dice-btn:hover{transform:translateY(-1px)}.dice-btn:hover .dice{box-shadow:0 4px 0 #a0a0a0,0 5px 10px rgba(0,0,0,.6),inset 0 1px 0 #fff,inset 0 -1px 2px rgba(0,0,0,.1)}.dice-btn:active{transform:translateY(2px)}.dice-btn:active .dice{box-shadow:0 1px 0 #a0a0a0,0 2px 4px rgba(0,0,0,.4),inset 0 1px 3px rgba(0,0,0,.2)}.dice-btn.selected{transform:translateY(2px)}.dice-btn.selected .dice{background:linear-gradient(145deg,gold,#f4d03f,#d4af37);box-shadow:0 1px 0 #8b6914,0 2px 6px rgba(212,175,55,.6),0 0 15px rgba(244,208,63,.5),inset 0 1px 0 rgba(255,255,255,.4),inset 0 -1px 3px rgba(0,0,0,.3)}.result-preview{background:linear-gradient(135deg,rgba(0,0,0,.7),rgba(20,20,20,.8));border-radius:8px;padding:6px 12px;border:2px solid var(--gold);display:flex;align-items:center;justify-content:center;gap:12px;box-shadow:inset 0 2px 5px rgba(0,0,0,.5),0 3px 10px rgba(0,0,0,.4)}.preview-die{font-size:1.8rem;color:#fff;text-shadow:0 0 8px rgba(255,255,255,.8),0 2px 4px rgba(0,0,0,.5);filter:drop-shadow(0 0 5px rgba(255,255,255,.5))}.preview-info{font-size:.85rem;color:var(--gold-light);font-weight:900;text-shadow:0 0 8px rgba(244,208,63,.5),0 1px 3px rgba(0,0,0,.8);letter-spacing:.5px}.confirm-btn{background:linear-gradient(180deg,#2ecc71 0,#27ae60 50%,#1e8449 100%);color:#fff;border:none;padding:8px 30px;border-radius:8px;font-weight:900;font-size:1rem;cursor:pointer;box-shadow:0 4px 0 #145a32,0 5px 12px rgba(39,174,96,.5),inset 0 1px 0 rgba(255,255,255,.3);text-shadow:0 2px 3px rgba(0,0,0,.5),0 0 10px rgba(255,255,255,.2);transition:all .15s;letter-spacing:2px}.confirm-btn:hover{background:linear-gradient(180deg,#52be80 0,#2ecc71 50%,#27ae60 100%);transform:translateY(-2px);box-shadow:0 7px 0 #145a32,0 8px 20px rgba(39,174,96,.6),0 0 15px rgba(46,204,113,.4),inset 0 1px 0 rgba(255,255,255,.3)}.confirm-btn:active{transform:translateY(3px);box-shadow:0 2px 0 #145a32,0 3px 8px rgba(39,174,96,.4),inset 0 2px 5px rgba(0,0,0,.3)}.confirm-btn.disabled,.confirm-btn:disabled{background:linear-gradient(180deg,#7f8c8d 0,#95a5a6 50%,#bdc3c7 100%)!important;color:#d5d8dc;opacity:.6;cursor:not-allowed;transform:none!important;box-shadow:0 2px 0 #566573,0 3px 8px rgba(127,140,141,.3),inset 0 1px 0 rgba(255,255,255,.2);filter:grayscale(100%);pointer-events:none}.confirm-btn.disabled:hover,.confirm-btn:disabled:hover{transform:none!important;box-shadow:0 2px 0 #566573,0 3px 8px rgba(127,140,141,.3),inset 0 1px 0 rgba(255,255,255,.2)}.betting-table{background:radial-gradient(circle at center,#0d4d2d 0,#072b1a 100%);border-radius:10px;padding:8px;border:3px solid var(--gold-dark);box-shadow:inset 0 0 40px rgba(0,0,0,.5),0 8px 20px rgba(0,0,0,.5);display:flex;flex-direction:column;justify-content:space-between;gap:8px;flex:1;min-height:0;overflow:hidden}.bet-section{flex:1;display:flex;flex-direction:column;min-height:0}.top-bets{display:grid;grid-template-columns:1.2fr 1.2fr 1fr 1fr 1fr 1fr 1fr 1fr;gap:6px;flex:1}.bet-box.pair{background:linear-gradient(135deg,#9b59b6 0,#8e44ad 100%)!important}.pair-dice{display:flex;gap:4px;align-items:center;justify-content:center;margin-bottom:3px}.bet-box{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:8px;border:2px solid rgba(255,255,255,.15);box-shadow:inset 0 0 10px rgba(255,255,255,.05),0 3px 6px rgba(0,0,0,.3);transition:all .2s;cursor:pointer;height:100%;min-height:45px;z-index:1;overflow:visible;padding:8px}.bet-box:hover{border-color:rgba(255,255,255,.3);transform:translateY(-1px)}.bet-box.has-bet{border-color:var(--gold)!important;box-shadow:0 0 12px rgba(212,175,55,.4);z-index:10}.big-small{background:linear-gradient(135deg,#c41e3a 0,#922b21 100%)!important}.odd-even{background:linear-gradient(135deg,#2980b9 0,#1a5276 100%)!important}.bet-box.total{background:linear-gradient(135deg,#34495e 0,#2c3e50 100%)!important}.bet-box.triple{background:linear-gradient(135deg,#8e44ad 0,#6c3483 100%)!important}.bet-box.any-triple{background:linear-gradient(135deg,#e67e22 0,#d35400 100%)!important}.bet-box.single{background:linear-gradient(135deg,#27ae60 0,#1e8449 100%)!important}.bet-name{font-size:1.5rem;font-weight:900;color:#fff;letter-spacing:3px;text-shadow:2px 2px 4px rgba(0,0,0,.5)}.bet-range{font-size:.65rem;font-weight:700;color:rgba(255,255,255,.7);margin-top:2px}.bet-odds{font-size:.75rem;font-weight:900;color:gold;margin-top:3px;text-shadow:0 1px 3px rgba(0,0,0,.9),0 0 5px rgba(255,215,0,.5);white-space:nowrap;letter-spacing:.5px}.total-grid{display:grid;grid-template-columns:repeat(14,1fr);gap:4px;flex:1}.triple-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;flex:1}.single-grid{display:grid;grid-template-columns:repeat(6,1fr);gap:4px;flex:1}.double-grid{display:grid;grid-template-columns:repeat(15,1fr);gap:2px;flex:1}.bet-box.double{background:linear-gradient(135deg,#e67e22 0,#d35400 100%)!important;padding:3px}.double-dice{display:flex;gap:2px;align-items:center;justify-content:center;margin-bottom:2px}.bet-number{font-size:1.1rem;font-weight:900;color:#fff;text-shadow:1px 1px 3px rgba(0,0,0,.5);margin-bottom:2px}.dice-icon{width:50px;height:50px;background:#fff;border-radius:8px;display:flex;align-items:center;justify-content:center;box-shadow:0 3px 6px rgba(0,0,0,.4),inset 0 1px 2px rgba(0,0,0,.1);margin-bottom:3px;font-size:2rem;color:#d32f2f;font-weight:900}.triple-dice{display:flex;gap:3px;align-items:center;justify-content:center;margin-bottom:3px}.chip-stack{position:absolute;bottom:4px;right:4px;display:flex;flex-direction:row-reverse;align-items:center;pointer-events:none;z-index:20}.chip-item{width:28px;height:28px;border-radius:50%;border:2px solid #fff;font-size:.55rem;font-weight:900;display:flex;align-items:center;justify-content:center;color:#fff;margin-right:-12px;box-shadow:0 2px 4px rgba(0,0,0,.6),0 0 0 1px rgba(0,0,0,.8);text-shadow:1px 1px 2px #000;position:relative;z-index:1}.chip-item.chip-10{background:radial-gradient(circle,#fff,#e0e0e0);color:#fff;font-weight:700}.chip-item.chip-30{background:radial-gradient(circle,#2196f3,#0d47a1)}.chip-item.chip-50{background:radial-gradient(circle,#4caf50,#1b5e20)}.chip-item.chip-100{background:radial-gradient(circle,#f44336,#b71c1c)}.chip-item.chip-300{background:radial-gradient(circle,#9c27b0,#4a148c)}.chip-item.chip-500{background:radial-gradient(circle,#ff9800,#e65100)}.chip-total{font-size:.65rem;background:#000;color:var(--gold-light);padding:2px 5px;border-radius:12px;margin-left:14px;border:1px solid var(--gold);font-weight:700;box-shadow:0 2px 4px rgba(0,0,0,.5);white-space:nowrap}.history-panel{grid-area:history;background:rgba(0,0,0,.6);border-radius:10px;padding:8px;border:2px solid var(--gold-dark);box-shadow:inset 0 0 15px rgba(0,0,0,.5);display:flex;flex-direction:column;overflow:hidden}.history-header{display:flex;justify-content:space-between;margin-bottom:6px;flex-shrink:0}.history-header h3{font-size:.8rem;color:var(--gold);letter-spacing:1px}.clear-history-btn{padding:2px 6px;background:#e74c3c;color:#fff;border:none;border-radius:3px;font-size:.65rem;cursor:pointer}.history-list{display:flex;flex-direction:column;gap:4px;overflow-y:auto;flex:1}.history-item{display:grid;grid-template-columns:30px max-content max-content max-content;align-items:center;background:rgba(0,0,0,.3);border-radius:3px;transition:all .2s;white-space:nowrap}.history-item:hover{background:rgba(255,255,255,.08)}.history-round{font-size:.75rem;color:#666;font-weight:700}.history-dice-nums{font-size:1.05rem;color:#fff;font-weight:900;letter-spacing:1px;text-align:left;overflow:hidden;text-overflow:ellipsis}.history-total{font-size:1.2rem;font-weight:900;text-align:center;min-width:28px}.history-item.big .history-total{color:#f44;text-shadow:0 0 5px rgba(255,68,68,.5)}.history-item.small .history-total{color:#48f;text-shadow:0 0 5px rgba(68,136,255,.5)}.history-item.triple .history-total{color:var(--gold-light);text-shadow:0 0 8px rgba(244,208,63,.6)}.history-size{font-size:1.05rem;font-weight:900;min-width:24px;text-align:center}.history-item.big .history-size{color:#f44}.history-item.small .history-size{color:#48f}.history-item.triple .history-size{color:var(--gold-light)}.empty-history{text-align:center;color:#666;padding:15px;font-size:.75rem}@keyframes winGlow{0%{box-shadow:0 0 0 #ff0;border-color:rgba(255,255,255,.15);background:inherit;filter:brightness(1)}25%{box-shadow:0 0 40px #ff0,0 0 60px rgba(255,255,0,.8),inset 0 0 30px rgba(255,255,0,.3);border-color:#ff0;background:linear-gradient(135deg,rgba(255,255,0,.4),rgba(255,215,0,.3));transform:scale(1.05);filter:brightness(1.8) saturate(1.5)}50%{box-shadow:0 0 50px #f60,0 0 80px rgba(255,102,0,.9),inset 0 0 40px rgba(255,102,0,.4);border-color:#f60;background:linear-gradient(135deg,rgba(255,102,0,.5),rgba(255,69,0,.4));transform:scale(1.08);filter:brightness(2) saturate(2)}75%{box-shadow:0 0 40px #ff0,0 0 60px rgba(255,255,0,.8),inset 0 0 30px rgba(255,255,0,.3);border-color:#ff0;background:linear-gradient(135deg,rgba(255,255,0,.4),rgba(255,215,0,.3));transform:scale(1.05);filter:brightness(1.8) saturate(1.5)}100%{box-shadow:0 0 0 #ff0;border-color:rgba(255,255,255,.15);background:inherit}}.winning{animation:winGlow .8s ease-in-out infinite!important;z-index:100;position:relative}.game-over-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.85);display:flex;align-items:center;justify-content:center;z-index:10000;animation:fadeIn .5s ease}.game-over-content{background:linear-gradient(135deg,#1a1a1a 0,#2d2d2d 100%);border:5px solid var(--gold);border-radius:20px;padding:60px 80px;text-align:center;box-shadow:0 0 50px rgba(212,175,55,.5),0 20px 60px rgba(0,0,0,.8),inset 0 0 30px rgba(0,0,0,.5);animation:scaleIn .6s cubic-bezier(.68,-.55,.265,1.55)}.winner-text{font-size:5rem;font-weight:900;color:var(--gold-light);text-shadow:0 0 20px rgba(255,215,0,.8),0 0 40px rgba(255,215,0,.6),0 5px 10px rgba(0,0,0,.8);margin-bottom:30px;animation:textGlow 1.5s ease-in-out infinite;letter-spacing:10px}.winner-subtitle{font-size:2.5rem;color:#fff;margin-bottom:40px;text-shadow:0 2px 10px rgba(0,0,0,.8)}.restart-btn{background:linear-gradient(135deg,var(--gold-light),var(--gold),var(--gold-dark));color:#fff;border:none;padding:20px 60px;font-size:1.5rem;font-weight:900;border-radius:50px;cursor:pointer;box-shadow:0 5px 0 #8b6914,0 10px 25px rgba(212,175,55,.5);transition:all .2s;letter-spacing:3px}.restart-btn:hover{transform:translateY(-3px);box-shadow:0 8px 0 #8b6914,0 15px 35px rgba(212,175,55,.6)}.restart-btn:active{transform:translateY(3px);box-shadow:0 2px 0 #8b6914,0 5px 15px rgba(212,175,55,.4)}.firework{position:absolute;width:5px;height:5px;background:var(--gold-light);border-radius:50%;animation:explode 1.8s ease-out forwards;pointer-events:none}.firework::before{content:'';position:absolute;width:100%;height:100%;background:inherit;border-radius:50%;animation:pulse .5s ease-out infinite}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes scaleIn{0%{transform:scale(.5) rotate(-5deg);opacity:0}50%{transform:scale(1.05) rotate(2deg)}100%{transform:scale(1) rotate(0);opacity:1}}@keyframes textGlow{0%,100%{text-shadow:0 0 20px rgba(255,215,0,.8),0 0 40px rgba(255,215,0,.6),0 5px 10px rgba(0,0,0,.8)}50%{text-shadow:0 0 30px gold,0 0 60px rgba(255,215,0,.8),0 0 80px rgba(255,215,0,.6),0 5px 10px rgba(0,0,0,.8);transform:scale(1.05)}}@keyframes explode{0%{transform:translate(0,0) scale(1);opacity:1}50%{opacity:1}100%{transform:translate(var(--x),var(--y)) scale(.3);opacity:0}}@keyframes pulse{0%{transform:scale(1);opacity:1}100%{transform:scale(2.5);opacity:0}}.dice{width:30px;height:30px;background:#fff;border-radius:5px;display:grid;grid-template:repeat(3,1fr)/repeat(3,1fr);padding:3px;gap:0;box-shadow:0 2px 4px rgba(0,0,0,.3),inset 0 1px 1px rgba(0,0,0,.1);position:relative}.dice .dot{width:5px;height:5px;background:#d32f2f;border-radius:50%;margin:auto}.dice .dot{display:none}@media screen and (max-width:1600px) and (min-width:1401px){.header{gap:15px;padding:8px 15px}.title{font-size:1.7rem}.header-chip-section{gap:10px;padding:6px 12px}.chip{width:38px;height:38px;min-width:38px;min-height:38px}.score-card{min-width:200px;max-width:300px;padding:5px 12px}.score-display{font-size:1.3rem;min-width:55px}.round-and-clear-container{min-width:140px;max-width:160px}.round-counter{padding:6px 10px;gap:6px}.round-number{font-size:1.2rem;padding:3px 10px;min-width:35px}.clear-bets-btn{padding:6px 10px;font-size:.8rem}}@media screen and (max-width:1400px){.game-container{grid-template-columns:170px 1fr;gap:4px;padding:4px}.header{gap:12px;padding:8px 12px;flex-wrap:nowrap!important;align-items:center!important}.title{font-size:1.5rem;flex:0 0 auto}.header-chip-section{gap:8px;padding:6px 10px;flex:0 1 auto;min-width:0}.chip{width:36px;height:36px;min-width:36px;min-height:36px}.chip-selector{gap:6px}.header-bet-info{font-size:.85rem;gap:8px;padding-left:10px}.header-bet-info strong{font-size:1.1rem}.header-clear-btn{padding:3px 10px;font-size:.75rem}.dice-inputs{gap:10px}.dice-input-group{padding:4px 6px;gap:6px}.dice-selector{gap:4px}.dice-btn{width:32px;height:32px;min-width:32px!important;flex-shrink:0!important}.score-section{gap:10px;flex:1 1 auto;min-width:0}.score-cards-container{gap:8px;flex-wrap:wrap}.score-card{gap:8px;padding:5px 12px;min-width:180px;max-width:280px;flex:1 1 auto}.score-card h2{font-size:.9rem}.score-display{font-size:1.4rem;min-width:50px}.score-btn{min-width:38px;height:22px;font-size:.65rem}.round-and-clear-container{flex:0 0 auto;min-width:130px;max-width:150px}.round-counter{padding:5px 10px;gap:5px}.round-number{font-size:1.1rem;padding:3px 8px;min-width:32px}.round-label{font-size:.8rem}.round-reset-btn{padding:3px 8px;font-size:.7rem}.clear-bets-btn{padding:6px 12px;font-size:.8rem}.clear-bets-btn .btn-icon{font-size:.9rem}.clear-bets-btn .btn-text{font-size:.8rem}.double-grid{gap:2px}.dice{width:26px;height:26px;padding:2px}.dice .dot{width:4px;height:4px}.double-dice{gap:1px}.betting-table{padding:6px;gap:6px}.bet-odds{font-size:.65rem}}@media screen and (max-width:1200px){.game-container{grid-template-columns:150px 1fr;gap:3px;padding:3px}.header{gap:10px;padding:6px 10px;flex-wrap:nowrap!important;align-items:center!important}.title{font-size:1.3rem;flex:0 0 auto}.header-chip-section{gap:6px;padding:5px 8px;flex:0 1 auto;min-width:0}.chip{width:32px;height:32px;min-width:32px;min-height:32px;font-size:.7rem}.chip-selector{gap:5px}.header-bet-info{font-size:.8rem;gap:6px;padding-left:8px}.header-bet-info strong{font-size:1rem}.header-clear-btn{padding:2px 8px;font-size:.7rem}.dice-inputs{gap:8px}.dice-input-group{padding:3px 5px;gap:5px}.dice-selector{gap:3px}.dice-btn{width:28px;height:28px;min-width:28px!important;flex-shrink:0!important}.dice-input-group label{font-size:.8rem;min-width:30px}.score-section{gap:8px;flex:1 1 auto;min-width:0}.score-cards-container{gap:6px;flex-wrap:wrap}.score-card{gap:6px;padding:4px 10px;min-width:160px;max-width:250px;flex:1 1 auto}.score-card h2{font-size:.85rem}.score-display{font-size:1.3rem;min-width:45px}.score-btn{min-width:35px;height:20px;font-size:.6rem;padding:2px 4px}.round-and-clear-container{flex:0 0 auto;min-width:120px;max-width:140px}.round-counter{padding:4px 8px;gap:4px}.round-number{font-size:1rem;padding:2px 6px;min-width:30px}.round-label{font-size:.75rem}.round-reset-btn{padding:2px 6px;font-size:.65rem}.clear-bets-btn{padding:5px 10px;font-size:.75rem}.clear-bets-btn .btn-icon{font-size:.85rem}.clear-bets-btn .btn-text{font-size:.75rem}.double-grid{gap:1px}.bet-box.double{padding:2px}.double-dice .dice{width:20px;height:20px;padding:1.5px;border-radius:3px}.double-dice .dot{width:3px;height:3px}.dice{width:24px;height:24px;padding:2px;border-radius:4px}.dice .dot{width:3px;height:3px}.double-dice{gap:1px}.betting-table{padding:5px;gap:5px}.top-bets{gap:4px}.total-grid{gap:3px}.triple-grid{gap:3px}.single-grid{gap:3px}.bet-odds{font-size:.6rem}.bet-number{font-size:1rem}}@media screen and (max-width:1024px){.game-container{grid-template-columns:150px 1fr;gap:2px;padding:2px}.left-panel{padding:6px 12px;gap:10px}.dice-inputs{gap:6px}.dice-input-group{padding:3px 4px;gap:4px}.dice-selector{gap:2px}.dice-btn{width:26px;height:26px;min-width:26px!important;flex-shrink:0!important}.dice-input-group label{font-size:.75rem;min-width:28px}.dice-input-section h3{font-size:.8rem}.score-section{gap:6px}.score-card{gap:5px;padding:3px 8px}.score-card h2{font-size:.8rem}.double-grid{gap:1px}.bet-box.double{padding:2px}.double-dice .dice{width:18px;height:18px;padding:1px}.double-dice .dot{width:2.5px;height:2.5px}.bet-odds{font-size:.5rem}.history-item{grid-template-columns:28px max-content max-content max-content}.history-dice-nums{font-size:.95rem;letter-spacing:.5px}.history-total{font-size:1.1rem}.history-size{font-size:.95rem}.score-display{font-size:1.2rem;min-width:40px}.score-btn{min-width:32px;height:18px;font-size:.55rem;padding:2px 3px}.score-controls{gap:2px}.double-grid{gap:1px}.dice{width:22px;height:22px;padding:2px;border-radius:3px}.dice .dot{width:3px;height:3px}.double-dice,.pair-dice,.triple-dice{gap:1px}.betting-table{padding:4px;gap:4px}.top-bets{gap:3px}.single-grid,.total-grid,.triple-grid{gap:2px}.bet-odds{font-size:.55rem;margin-top:1px}.bet-number{font-size:.95rem}.bet-name{font-size:1.2rem}}@media screen and (max-width:900px){.round-and-clear-container{gap:6px}.round-counter{padding:6px 10px;gap:6px}.round-label{font-size:.8rem}.round-number{font-size:1.2rem;padding:3px 8px;min-width:35px}.round-reset-btn{padding:3px 8px;font-size:.7rem}.score-section{gap:8px}.score-card{flex:1 1 100%;min-width:200px}.double-grid{gap:.5px}.bet-box.double{padding:1px;min-height:45px}.double-dice{gap:1px}.double-dice .dice{width:16px;height:16px;padding:.5px;border-radius:2px}.double-dice .dot{width:2px;height:2px}.bet-odds{font-size:.45rem;margin-top:1px}.history-item{grid-template-columns:26px max-content max-content max-content}.history-round{font-size:.7rem}.history-dice-nums{font-size:.9rem;letter-spacing:0}.history-total{font-size:1rem}.history-size{font-size:.9rem}}@media screen and (max-width:820px) and (min-width:769px){.header{display:grid!important;grid-template-columns:auto 1fr auto!important;grid-template-rows:auto auto!important;gap:8px!important;padding:8px 12px!important;align-items:start!important}body.multi-mode .header{grid-template-rows:auto!important}body.multi-mode .header-chip-section{display:none!important}body.multi-mode .round-and-clear-container{grid-row:1!important}body.multi-mode .multi-players-section{grid-column:2!important;grid-row:1!important}.title{grid-column:1!important;grid-row:1!important;font-size:1.4rem!important;align-self:center!important;white-space:nowrap!important;margin-right:auto!important}.score-section{grid-column:2!important;grid-row:1!important;width:100%!important;max-width:100%!important;min-width:0!important;margin-bottom:6px!important;box-sizing:border-box!important}.score-cards-container{width:100%!important;max-width:100%!important;min-width:0!important;gap:8px!important;flex-wrap:nowrap!important;box-sizing:border-box!important;flex:1 1 100%!important}.score-card{flex:1 1 auto!important;min-width:0!important;padding:4px 8px!important}.score-card.banker{flex:1!important;min-width:0!important}.score-card.player{flex:1!important;min-width:0!important}.score-card h2{font-size:.85rem!important}.score-display{font-size:1.1rem!important;min-width:45px!important}.score-btn{min-width:30px!important;height:18px!important;font-size:.6rem!important;padding:2px 4px!important}.header-chip-section{grid-column:2!important;grid-row:2!important;width:100%!important;min-width:0!important;justify-content:flex-start!important;gap:8px!important;padding:6px 8px!important;margin:0!important}.chip-selector{gap:6px!important;flex-wrap:wrap!important}.chip{width:32px!important;height:32px!important;min-width:32px!important;min-height:32px!important;font-size:.7rem!important}.header-bet-info{font-size:.8rem!important;gap:6px!important;padding-left:8px!important}.header-bet-info strong{font-size:1rem!important}.header-clear-btn{padding:2px 8px!important;font-size:.7rem!important}.round-and-clear-container{grid-column:3!important;grid-row:1/3!important;display:flex!important;flex-direction:column!important;gap:6px!important;align-items:center!important;min-width:120px!important;max-width:140px!important;align-self:start!important}.round-counter{padding:4px 8px!important;gap:4px!important;justify-content:center!important}.round-number{font-size:1rem!important;padding:2px 6px!important;min-width:30px!important}.round-label{font-size:.75rem!important}.round-reset-btn{padding:2px 6px!important;font-size:.65rem!important}.clear-bets-btn{padding:5px 10px!important;font-size:.75rem!important;width:100%!important}.multi-players-section.has-many-players{grid-template-columns:1fr 1fr!important;gap:4px!important}.multi-players-section.has-many-players .player-chip-row{min-width:0!important;flex:1 1 auto!important}}@media screen and (max-width:768px){.header{flex-wrap:wrap;padding:8px 15px;gap:15px}.title{font-size:1.5rem;flex-basis:100%;text-align:center}.header-chip-section{flex:1 1 100%;order:3}.score-section{flex:1 1 100%;gap:10px;order:2}.score-cards-container{gap:10px;flex-wrap:wrap;width:100%;flex:1}.score-card{flex:1 1 calc(50% - 5px);min-width:0}}.dice[data-value="1"] .dot:nth-child(5){display:block;grid-area:2/2}.dice[data-value="2"] .dot:first-child{display:block;grid-area:1/1}.dice[data-value="2"] .dot:nth-child(6){display:block;grid-area:3/3}.dice[data-value="3"] .dot:first-child{display:block;grid-area:1/1}.dice[data-value="3"] .dot:nth-child(5){display:block;grid-area:2/2}.dice[data-value="3"] .dot:nth-child(6){display:block;grid-area:3/3}.dice[data-value="4"] .dot:first-child{display:block;grid-area:1/1}.dice[data-value="4"] .dot:nth-child(2){display:block;grid-area:1/3}.dice[data-value="4"] .dot:nth-child(4){display:block;grid-area:3/1}.dice[data-value="4"] .dot:nth-child(6){display:block;grid-area:3/3}.dice[data-value="5"] .dot:first-child{display:block;grid-area:1/1}.dice[data-value="5"] .dot:nth-child(2){display:block;grid-area:1/3}.dice[data-value="5"] .dot:nth-child(4){display:block;grid-area:3/1}.dice[data-value="5"] .dot:nth-child(5){display:block;grid-area:2/2}.dice[data-value="5"] .dot:nth-child(6){display:block;grid-area:3/3}.dice[data-value="6"] .dot:first-child{display:block;grid-area:1/1}.dice[data-value="6"] .dot:nth-child(2){display:block;grid-area:1/3}.dice[data-value="6"] .dot:nth-child(3){display:block;grid-area:2/1}.dice[data-value="6"] .dot:nth-child(4){display:block;grid-area:2/3}.dice[data-value="6"] .dot:nth-child(5){display:block;grid-area:3/1}.dice[data-value="6"] .dot:nth-child(6){display:block;grid-area:3/3}.mode-toggle-btn{position:fixed;top:50%;right:-22.5px;transform:translateY(-50%);width:45px;height:45px;border-radius:50%;background:linear-gradient(135deg,var(--gold-light),var(--gold-dark));border:2px solid var(--gold);color:#fff;font-size:1.5rem;cursor:grab;box-shadow:0 4px 12px rgba(0,0,0,.4),inset 0 1px 2px rgba(255,255,255,.3);transition:right .3s ease,left .3s ease,transform .15s ease;z-index:1001;user-select:none;touch-action:none}.mode-toggle-btn:active{cursor:grabbing}.mode-toggle-btn.dragging{transition:none}.mode-toggle-btn.expanded{right:10px;transform:translateY(-50%) scale(1.05);box-shadow:0 6px 16px rgba(0,0,0,.5),inset 0 1px 2px rgba(255,255,255,.4)}.mode-toggle-btn.left-side{right:auto;left:-22.5px}.mode-toggle-btn.left-side.expanded{left:10px;right:auto}.mode-modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);z-index:1000;justify-content:center;align-items:center}.mode-modal.active{display:flex}.mode-modal-content{background:linear-gradient(180deg,#2c3e50 0,#1a252f 100%);border-radius:20px;padding:30px;max-width:500px;width:90%;border:3px solid var(--gold);box-shadow:0 10px 40px rgba(0,0,0,.8)}.mode-modal-content h2{color:var(--gold-light);text-align:center;margin:0 0 25px 0;font-size:1.8rem;text-shadow:0 0 10px rgba(244,208,63,.5)}.mode-description{color:#ccc;text-align:center;margin:0 0 25px 0;font-size:1rem}.player-count-options{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}.player-count-btn{background:linear-gradient(135deg,#34495e,#2c3e50);border:2px solid rgba(212,175,55,.3);border-radius:8px;color:#fff;font-size:1rem;padding:12px;cursor:pointer;transition:all .3s ease}.player-count-btn:hover{border-color:var(--gold);background:linear-gradient(135deg,#3d566e,#34495e);transform:scale(1.05)}.player-count-btn.selected{border-color:var(--gold-light);background:linear-gradient(135deg,var(--gold-dark),var(--gold));box-shadow:0 0 15px rgba(244,208,63,.5)}.mode-modal-actions{display:flex;gap:15px;margin-top:25px}.mode-cancel-btn,.mode-confirm-btn{flex:1;padding:12px;border-radius:8px;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .3s ease}.mode-cancel-btn{background:rgba(255,255,255,.1);border:2px solid rgba(255,255,255,.3);color:#fff}.mode-cancel-btn:hover{background:rgba(255,255,255,.2);border-color:rgba(255,255,255,.5)}.mode-confirm-btn{background:linear-gradient(135deg,var(--gold-light),var(--gold-dark));border:2px solid var(--gold);color:#fff}.mode-confirm-btn:hover{transform:scale(1.05);box-shadow:0 5px 15px rgba(244,208,63,.4)}body.multi-mode .round-and-clear-container{align-items:center!important;align-self:center!important}body.multi-mode .round-counter{justify-content:center!important}body.multi-mode .clear-bets-btn{width:100%!important;justify-content:center!important}.multi-players-section{flex:1 1 auto;display:flex;flex-direction:column;gap:8px;max-height:100%;overflow-y:auto;min-width:0}.multi-players-section.has-many-players{display:grid!important;grid-template-columns:1fr 1fr!important;gap:6px!important;align-content:start!important}.player-chip-row{display:flex;align-items:center;gap:12px;background:rgba(0,0,0,.3);border-radius:10px;padding:8px 12px;border:2px solid transparent;transition:all .3s ease;cursor:pointer}.player-chip-row:hover{background:rgba(0,0,0,.4)}.player-chip-row.active{border-color:currentColor;background:rgba(0,0,0,.5);box-shadow:0 0 15px currentColor}.player-info{display:flex;align-items:center;gap:8px;min-width:100px}.player-color-indicator{width:20px;height:20px;border-radius:50%;border:2px solid #fff;box-shadow:0 2px 6px rgba(0,0,0,.4)}.player-name{font-weight:700;color:#fff;font-size:.9rem}.player-balance{font-weight:900;color:var(--gold-light);font-size:1rem;min-width:4.5rem;width:4.5rem;text-align:right;text-shadow:0 0 5px rgba(244,208,63,.3);flex-shrink:0}.player-chip-selector{display:flex;gap:6px;flex:1}.player-chip-selector .chip{width:40px;height:40px;font-size:.75rem}.player-controls{display:flex;gap:4px}.player-control-btn{padding:4px 8px;font-size:.7rem;border-radius:4px;border:1px solid rgba(255,255,255,.3);background:rgba(255,255,255,.1);color:#fff;cursor:pointer;transition:all .2s ease;white-space:nowrap}.player-control-btn:hover{background:rgba(255,255,255,.2)}@media screen and (min-width:900px) and (max-width:1100px){.header{display:grid!important;grid-template-columns:auto 1fr auto!important;grid-template-rows:auto auto!important;gap:10px!important;padding:8px 15px!important;align-items:start!important}body.multi-mode .header{grid-template-rows:auto!important}body.multi-mode .header-chip-section{display:none!important}body.multi-mode .round-and-clear-container{grid-row:1!important}body.multi-mode .multi-players-section{grid-column:2!important;grid-row:1!important}.title{grid-column:1!important;grid-row:1!important;font-size:1.6rem!important;align-self:center!important;white-space:nowrap!important;margin-right:auto!important}.score-section{grid-column:2!important;grid-row:1!important;width:100%!important;max-width:100%!important;min-width:0!important;margin-bottom:8px!important;box-sizing:border-box!important}.score-cards-container{width:100%!important;max-width:100%!important;min-width:0!important;gap:10px!important;flex-wrap:nowrap!important;box-sizing:border-box!important;flex:1 1 100%!important}.score-card{flex:0 1 auto!important;min-width:0!important}.score-card.banker{flex:1!important;min-width:0!important}.score-card.player{flex:1!important;min-width:0!important}.header-chip-section{grid-column:2!important;grid-row:2!important;width:100%!important;max-width:100%!important;min-width:0!important;justify-content:flex-start!important;gap:10px!important;padding:8px 12px!important;margin:0!important;box-sizing:border-box!important}.chip-selector{gap:8px!important;flex-wrap:wrap!important}.chip{width:38px!important;height:38px!important;min-width:38px!important;min-height:38px!important;font-size:.75rem!important}.header-bet-info{font-size:.9rem!important;gap:8px!important;padding-left:12px!important}.header-bet-info strong{font-size:1.2rem!important}.header-clear-btn{padding:4px 10px!important;font-size:.8rem!important}.round-and-clear-container{grid-column:3!important;grid-row:1/3!important;display:flex!important;flex-direction:column!important;gap:8px!important;align-items:center!important;min-width:140px!important;max-width:160px!important;align-self:start!important}.round-counter{padding:6px 12px!important;gap:6px!important;justify-content:center!important}.round-number{font-size:1.2rem!important;padding:3px 10px!important;min-width:35px!important}.round-label{font-size:.85rem!important}.round-reset-btn{padding:3px 8px!important;font-size:.7rem!important}.clear-bets-btn{padding:6px 12px!important;font-size:.85rem!important;width:100%!important}.multi-players-section.has-many-players{grid-template-columns:1fr 1fr!important;gap:4px!important}.multi-players-section.has-many-players .player-chip-row{min-width:0!important;flex:1 1 auto!important}}@media screen and (min-width:1101px){.multi-players-section{max-height:140px!important;gap:3px!important;flex:1 1 auto!important;min-width:0!important}.multi-players-section.has-many-players{grid-template-columns:1fr 1fr!important;gap:4px!important;max-height:120px!important}.multi-players-section.has-many-players .player-chip-row{min-width:0!important;flex:1 1 auto!important}.player-chip-row{padding:3px 6px!important;gap:6px!important;min-height:36px!important}.player-info{min-width:70px!important;gap:5px!important}.player-color-indicator{width:14px!important;height:14px!important}.player-name{font-size:.8rem!important}.player-balance{font-size:.85rem!important;min-width:3.5rem!important;width:3.5rem!important;flex-shrink:0!important}.player-chip-selector{gap:3px!important}.player-chip-selector .chip{width:30px!important;height:30px!important;font-size:.65rem!important;padding:2px!important}.player-controls{gap:2px!important}.player-control-btn{padding:2px 5px!important;font-size:.6rem!important}.header{overflow:visible;flex-wrap:nowrap!important;align-items:center!important;gap:15px;padding:8px 15px;min-width:0}body.multi-mode .header{padding:6px 12px!important;gap:10px!important;height:auto!important;max-height:none!important;flex-wrap:nowrap!important}.title{flex:0 0 auto;font-size:1.8rem;align-self:center;min-width:0;flex-shrink:0;white-space:nowrap}body.multi-mode .title{font-size:1.6rem!important;margin:0!important;flex-shrink:0!important}.score-section{flex:1 1 auto;gap:10px;min-width:0;align-self:center}.score-cards-container{gap:10px;width:100%;flex:1}.score-card{flex:1;min-width:220px;max-width:350px}.round-and-clear-container{flex:0 0 auto;flex-shrink:0!important;min-width:150px;max-width:180px;align-items:center!important}body.multi-mode .round-and-clear-container{align-items:center!important;gap:6px!important;min-width:130px!important;max-width:150px!important}body.multi-mode .round-counter{justify-content:center!important;padding:4px 10px!important;gap:5px!important}body.multi-mode .round-number{font-size:1.1rem!important;padding:2px 8px!important;min-width:32px!important}body.multi-mode .round-label{font-size:.8rem!important}body.multi-mode .round-reset-btn{padding:2px 6px!important;font-size:.65rem!important}body.multi-mode .clear-bets-btn{width:100%!important;padding:5px 10px!important;font-size:.8rem!important}.round-counter{padding:6px 12px;gap:6px}.clear-bets-btn{padding:6px 12px;font-size:.85rem}.header-chip-section{flex:0 1 auto;min-width:0;max-width:none;flex-shrink:1}.score-section{flex:1 1 auto;gap:10px;min-width:0;align-self:center;max-width:100%}.score-cards-container{gap:10px;width:100%;flex:1;min-width:0}.score-card{flex:1;min-width:200px;max-width:350px}.betting-table{min-height:400px}.main-content{flex:1;min-height:0}body.multi-mode .left-panel{flex-shrink:0;padding:4px 10px;gap:8px;align-items:flex-start;min-height:auto}body.multi-mode .dice-input-section{flex:1 1 auto;min-width:0;padding:4px;gap:4px;min-height:auto}body.multi-mode .dice-input-section h3{font-size:.75rem;margin:0}body.multi-mode .dice-inputs{flex:1;width:100%;gap:6px;min-height:auto}body.multi-mode .dice-input-group{flex:1;min-width:0;padding:3px 5px;gap:4px;min-height:auto;align-items:flex-start}body.multi-mode .dice-selector{gap:2px}body.multi-mode .dice-btn{width:28px;height:28px;min-width:28px!important;flex-shrink:0!important;font-size:.75rem;padding:2px;box-sizing:border-box}body.multi-mode .result-preview{padding:4px 8px;gap:6px}body.multi-mode .preview-dice{gap:4px}body.multi-mode .preview-die{width:24px;height:24px;font-size:.8rem}body.multi-mode .preview-info{font-size:.7rem;padding:2px 6px}body.multi-mode .confirm-btn{padding:5px 16px;font-size:.8rem}}</style></head><body><div class="game-container"><header class="header"><h1 class="title">È™∞ ÂÆù</h1><button class="mode-toggle-btn" onclick="openModeModal()" title="ÂàáÊç¢Ê∏∏ÊàèÊ®°Âºè"><span id="modeIcon">üë§</span></button><div class="header-chip-section single-mode-section"><div class="chip-selector"><div class="chip" data-value="10">10</div><div class="chip" data-value="30">30</div><div class="chip selected" data-value="50">50</div><div class="chip" data-value="100">100</div><div class="chip" data-value="300">300</div><div class="chip" data-value="500">500</div></div><div class="header-bet-info"><span>‰∏ãÊ≥®: <strong id="totalBetDisplay">0</strong></span> <button class="header-clear-btn" onclick="clearAllBets()">Ê∏ÖÈô§</button></div></div><div class="multi-players-section" id="multiPlayersSection" style="display:none"></div><div class="score-section single-mode-section"><div class="score-cards-container"><div class="score-card banker"><h2>Â∫Ñ</h2><div class="score-display" id="bankerBalance">500</div><div class="score-controls"><button class="score-btn minus" onclick='adjustBalance("banker",-100)'>-100</button> <button class="score-btn plus" onclick='adjustBalance("banker",100)'>+100</button> <button class="score-btn reset" onclick='resetBalance("banker")'>ÈáçÁΩÆ</button></div></div><div class="score-card player"><h2>Èó≤</h2><div class="score-display" id="playerBalance">500</div><div class="score-controls"><button class="score-btn minus" onclick='adjustBalance("player",-100)'>-100</button> <button class="score-btn plus" onclick='adjustBalance("player",100)'>+100</button> <button class="score-btn reset" onclick='resetBalance("player")'>ÈáçÁΩÆ</button></div></div></div></div><div class="round-and-clear-container"><div class="round-counter"><span class="round-label">Á¨¨</span> <span class="round-number" id="roundDisplay">0</span> <span class="round-label">Â±Ä</span> <button class="round-reset-btn" onclick="resetRound()" title="ÈáçÁΩÆÂ±ÄÊï∞">ÈáçÁΩÆ</button></div><button class="clear-bets-btn single-mode-section" onclick="clearAllBets()" title="Ê∏ÖÈô§ÊâÄÊúâÊäºÊ≥®"><span class="btn-text">Ê∏ÖÈô§ÊäºÊ≥®</span></button> <button class="clear-bets-btn multi-mode-section" onclick="clearAllBets()" title="Ê∏ÖÈô§ÊâÄÊúâÊäºÊ≥®" style="display:none"><span class="btn-text">Ê∏ÖÈô§ÊäºÊ≥®</span></button></div></header><div class="main-content"><div class="left-panel"><div class="dice-input-section"><h3>ËæìÂÖ•È™∞Â≠êÁÇπÊï∞</h3><div class="dice-inputs"><div class="dice-input-group" id="group1"><label>È™∞1</label><div class="dice-selector" id="dice1"><button class="dice-btn" data-value="1">‚öÄ</button> <button class="dice-btn" data-value="2">‚öÅ</button> <button class="dice-btn" data-value="3">‚öÇ</button> <button class="dice-btn" data-value="4">‚öÉ</button> <button class="dice-btn" data-value="5">‚öÑ</button> <button class="dice-btn" data-value="6">‚öÖ</button></div></div><div class="dice-input-group" id="group2"><label>È™∞2</label><div class="dice-selector" id="dice2"><button class="dice-btn" data-value="1">‚öÄ</button> <button class="dice-btn" data-value="2">‚öÅ</button> <button class="dice-btn" data-value="3">‚öÇ</button> <button class="dice-btn" data-value="4">‚öÉ</button> <button class="dice-btn" data-value="5">‚öÑ</button> <button class="dice-btn" data-value="6">‚öÖ</button></div></div><div class="dice-input-group" id="group3"><label>È™∞3</label><div class="dice-selector" id="dice3"><button class="dice-btn" data-value="1">‚öÄ</button> <button class="dice-btn" data-value="2">‚öÅ</button> <button class="dice-btn" data-value="3">‚öÇ</button> <button class="dice-btn" data-value="4">‚öÉ</button> <button class="dice-btn" data-value="5">‚öÑ</button> <button class="dice-btn" data-value="6">‚öÖ</button></div></div></div><div class="result-preview"><div class="preview-dice" id="previewDice"><span class="preview-die">?</span> <span class="preview-die">?</span> <span class="preview-die">?</span></div><div class="preview-info"><span class="preview-total">ÊÄªÁÇπÊï∞: <strong id="previewTotal">-</strong></span> <span class="preview-type" id="previewType">-</span></div></div><button class="confirm-btn" id="confirmBtn" onclick="confirmResult()">Á°ÆËÆ§ÂºÄÂ•ñ</button></div></div><div class="betting-table"><div class="bet-section top-bets"><div class="bet-box big-small" data-bet="small" data-odds="1"><span class="bet-name">Â∞è</span> <span class="bet-range">4-10</span> <span class="bet-odds">1Ëµî1</span></div><div class="bet-box pair pair-1" data-bet="pair-1" data-odds="8"><div class="pair-dice">1 1</div><span class="bet-odds">1Ëµî8</span></div><div class="bet-box pair pair-2" data-bet="pair-2" data-odds="8"><div class="pair-dice">2 2</div><span class="bet-odds">1Ëµî8</span></div><div class="bet-box pair pair-3" data-bet="pair-3" data-odds="8"><div class="pair-dice">3 3</div><span class="bet-odds">1Ëµî8</span></div><div class="bet-box pair pair-4" data-bet="pair-4" data-odds="8"><div class="pair-dice">4 4</div><span class="bet-odds">1Ëµî8</span></div><div class="bet-box pair pair-5" data-bet="pair-5" data-odds="8"><div class="pair-dice">5 5</div><span class="bet-odds">1Ëµî8</span></div><div class="bet-box pair pair-6" data-bet="pair-6" data-odds="8"><div class="pair-dice">6 6</div><span class="bet-odds">1Ëµî8</span></div><div class="bet-box big-small" data-bet="big" data-odds="1"><span class="bet-name">Â§ß</span> <span class="bet-range">11-17</span> <span class="bet-odds">1Ëµî1</span></div></div><div class="bet-section"><div class="double-grid"><div class="bet-box double" data-bet="double-1-2" data-odds="5"><div class="double-dice">1 2</div><span class="bet-odds">1Ëµî5</span></div><div class="bet-box double" data-bet="double-1-3" data-odds="5"><div class="double-dice">1 3</div><span class="bet-odds">1Ëµî5</span></div><div class="bet-box double" data-bet="double-1-4" data-odds="5"><div class="double-dice">1 4</div><span class="bet-odds">1Ëµî5</span></div><div class="bet-box double" data-bet="double-1-5" data-odds="5"><div class="double-dice">1 5</div><span class="bet-odds">1Ëµî5</span></div><div class="bet-box double" data-bet="double-1-6" data-odds="5"><div class="double-dice">1 6</div><span class="bet-odds">1Ëµî5</span></div><div class="bet-box double" data-bet="double-2-3" data-odds="5"><div class="double-dice">2 3</div><span class="bet-odds">1Ëµî5</span></div><div class="bet-box double" data-bet="double-2-4" data-odds="5"><div class="double-dice">2 4</div><span class="bet-odds">1Ëµî5</span></div><div class="bet-box double" data-bet="double-2-5" data-odds="5"><div class="double-dice">2 5</div><span class="bet-odds">1Ëµî5</span></div><div class="bet-box double" data-bet="double-2-6" data-odds="5"><div class="double-dice">2 6</div><span class="bet-odds">1Ëµî5</span></div><div class="bet-box double" data-bet="double-3-4" data-odds="5"><div class="double-dice">3 4</div><span class="bet-odds">1Ëµî5</span></div><div class="bet-box double" data-bet="double-3-5" data-odds="5"><div class="double-dice">3 5</div><span class="bet-odds">1Ëµî5</span></div><div class="bet-box double" data-bet="double-3-6" data-odds="5"><div class="double-dice">3 6</div><span class="bet-odds">1Ëµî5</span></div><div class="bet-box double" data-bet="double-4-5" data-odds="5"><div class="double-dice">4 5</div><span class="bet-odds">1Ëµî5</span></div><div class="bet-box double" data-bet="double-4-6" data-odds="5"><div class="double-dice">4 6</div><span class="bet-odds">1Ëµî5</span></div><div class="bet-box double" data-bet="double-5-6" data-odds="5"><div class="double-dice">5 6</div><span class="bet-odds">1Ëµî5</span></div></div></div><div class="bet-section"><div class="total-grid"><div class="bet-box total" data-bet="total-4" data-odds="60"><span class="bet-number">4</span><span class="bet-odds">1Ëµî60</span></div><div class="bet-box total" data-bet="total-5" data-odds="30"><span class="bet-number">5</span><span class="bet-odds">1Ëµî30</span></div><div class="bet-box total" data-bet="total-6" data-odds="18"><span class="bet-number">6</span><span class="bet-odds">1Ëµî18</span></div><div class="bet-box total" data-bet="total-7" data-odds="12"><span class="bet-number">7</span><span class="bet-odds">1Ëµî12</span></div><div class="bet-box total" data-bet="total-8" data-odds="8"><span class="bet-number">8</span><span class="bet-odds">1Ëµî8</span></div><div class="bet-box total" data-bet="total-9" data-odds="6"><span class="bet-number">9</span><span class="bet-odds">1Ëµî6</span></div><div class="bet-box total" data-bet="total-10" data-odds="6"><span class="bet-number">10</span><span class="bet-odds">1Ëµî6</span></div><div class="bet-box total" data-bet="total-11" data-odds="6"><span class="bet-number">11</span><span class="bet-odds">1Ëµî6</span></div><div class="bet-box total" data-bet="total-12" data-odds="6"><span class="bet-number">12</span><span class="bet-odds">1Ëµî6</span></div><div class="bet-box total" data-bet="total-13" data-odds="8"><span class="bet-number">13</span><span class="bet-odds">1Ëµî8</span></div><div class="bet-box total" data-bet="total-14" data-odds="12"><span class="bet-number">14</span><span class="bet-odds">1Ëµî12</span></div><div class="bet-box total" data-bet="total-15" data-odds="18"><span class="bet-number">15</span><span class="bet-odds">1Ëµî18</span></div><div class="bet-box total" data-bet="total-16" data-odds="30"><span class="bet-number">16</span><span class="bet-odds">1Ëµî30</span></div><div class="bet-box total" data-bet="total-17" data-odds="60"><span class="bet-number">17</span><span class="bet-odds">1Ëµî60</span></div></div></div><div class="bet-section"><div class="triple-grid"><div class="bet-box triple" data-bet="triple-1" data-odds="150"><div class="triple-dice">1 1 1</div><span class="bet-odds">1Ëµî150</span></div><div class="bet-box triple" data-bet="triple-2" data-odds="150"><div class="triple-dice">2 2 2</div><span class="bet-odds">1Ëµî150</span></div><div class="bet-box triple" data-bet="triple-3" data-odds="150"><div class="triple-dice">3 3 3</div><span class="bet-odds">1Ëµî150</span></div><div class="bet-box triple any-triple" data-bet="any-triple" data-odds="24"><span class="bet-name" style="font-size:.8rem">ÂÖ®Âõ¥</span><span class="bet-odds">1Ëµî24</span></div><div class="bet-box triple" data-bet="triple-4" data-odds="150"><div class="triple-dice">4 4 4</div><span class="bet-odds">1Ëµî150</span></div><div class="bet-box triple" data-bet="triple-5" data-odds="150"><div class="triple-dice">5 5 5</div><span class="bet-odds">1Ëµî150</span></div><div class="bet-box triple" data-bet="triple-6" data-odds="150"><div class="triple-dice">6 6 6</div><span class="bet-odds">1Ëµî150</span></div></div></div><div class="bet-section"><div class="single-grid"><div class="bet-box single" data-bet="single-1" data-odds="1"><div class="dice" data-value="1"><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div></div><span class="bet-odds">1Ëµî1</span></div><div class="bet-box single" data-bet="single-2" data-odds="1"><div class="dice" data-value="2"><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div></div><span class="bet-odds">1Ëµî1</span></div><div class="bet-box single" data-bet="single-3" data-odds="1"><div class="dice" data-value="3"><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div></div><span class="bet-odds">1Ëµî1</span></div><div class="bet-box single" data-bet="single-4" data-odds="1"><div class="dice" data-value="4"><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div></div><span class="bet-odds">1Ëµî1</span></div><div class="bet-box single" data-bet="single-5" data-odds="1"><div class="dice" data-value="5"><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div></div><span class="bet-odds">1Ëµî1</span></div><div class="bet-box single" data-bet="single-6" data-odds="1"><div class="dice" data-value="6"><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div></div><span class="bet-odds">1Ëµî1</span></div></div></div></div></div><div class="history-panel"><div class="history-header"><h3>ÂéÜÂè≤</h3><button class="clear-history-btn" onclick="clearHistory()">Ê∏ÖÁ©∫</button></div><div class="history-list" id="historyList"><div class="empty-history">ÊöÇÊó†ËÆ∞ÂΩï</div></div></div></div><div class="mode-modal" id="modeModal"><div class="mode-modal-content"><h2>üë• Â§ö‰∫∫Ê®°Âºè</h2><p class="mode-description">ÈÄâÊã©ÂèÇ‰∏éÊ∏∏ÊàèÁöÑÈó≤ÂÆ∂Êï∞Èáè</p><div class="player-count-options"><button class="player-count-btn" onclick="setPlayerCount(2)">2‰∫∫</button> <button class="player-count-btn" onclick="setPlayerCount(3)">3‰∫∫</button> <button class="player-count-btn" onclick="setPlayerCount(4)">4‰∫∫</button> <button class="player-count-btn" onclick="setPlayerCount(5)">5‰∫∫</button> <button class="player-count-btn" onclick="setPlayerCount(6)">6‰∫∫</button></div><div class="mode-modal-actions"><button class="mode-cancel-btn" onclick="closeModeModal()">ÂèñÊ∂à</button> <button class="mode-confirm-btn" onclick="confirmModeChange()">ÂºÄÂßãÊ∏∏Êàè</button></div></div></div><script>function createDiceHTML(e){return`<div class="dice" data-value="${e}">\n        <div class="dot"></div>\n        <div class="dot"></div>\n        <div class="dot"></div>\n        <div class="dot"></div>\n        <div class="dot"></div>\n        <div class="dot"></div>\n    </div>`}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".dice-btn").forEach(e=>{const t=e.dataset.value;e.innerHTML=createDiceHTML(t)}),document.querySelectorAll(".pair-dice").forEach(e=>{const t=e.textContent.trim().split(" ").filter(e=>e);2===t.length&&(e.innerHTML=t.map(e=>createDiceHTML(e)).join(""))}),document.querySelectorAll(".double-dice").forEach(e=>{const t=e.textContent.trim().split(" ").filter(e=>e);2===t.length&&(e.innerHTML=t.map(e=>createDiceHTML(e)).join(""))}),document.querySelectorAll(".triple-dice").forEach(e=>{const t=e.textContent.trim().split(" ").filter(e=>e);3===t.length&&(e.innerHTML=t.map(e=>createDiceHTML(e)).join(""))})})</script><script>const diceSymbols=["‚öÄ","‚öÅ","‚öÇ","‚öÉ","‚öÑ","‚öÖ"],PLAYER_COLORS=[{id:1,name:"Èó≤ÂÆ∂1",color:"#f44336",chipColor:"#e53935",lightColor:"#ef5350"},{id:2,name:"Èó≤ÂÆ∂2",color:"#2196F3",chipColor:"#1976D2",lightColor:"#42A5F5"},{id:3,name:"Èó≤ÂÆ∂3",color:"#4CAF50",chipColor:"#388E3C",lightColor:"#66BB6A"},{id:4,name:"Èó≤ÂÆ∂4",color:"#FFC107",chipColor:"#FFA000",lightColor:"#FFCA28"},{id:5,name:"Èó≤ÂÆ∂5",color:"#9C27B0",chipColor:"#7B1FA2",lightColor:"#AB47BC"},{id:6,name:"Èó≤ÂÆ∂6",color:"#FF5722",chipColor:"#E64A19",lightColor:"#FF7043"}];let state={gameMode:"single",playerCount:1,bankerBalance:500,playerBalance:500,players:[],currentPlayerId:null,selectedDice:[null,null,null],history:[],bets:{},currentChip:50,round:0};function initDiceSelectors(){for(let e=1;e<=3;e++){const t=document.getElementById(`dice${e}`),a=document.getElementById(`group${e}`),n=t.querySelectorAll(".dice-btn");n.forEach(t=>{t.addEventListener("click",()=>{n.forEach(e=>e.classList.remove("selected")),t.classList.add("selected"),state.selectedDice[e-1]=parseInt(t.dataset.value),a&&a.classList.add("has-selection"),updatePreview(),updateConfirmButtonState()})})}}function initChipSelector(){document.querySelectorAll(".chip-selector .chip").forEach(e=>{e.addEventListener("click",()=>{document.querySelectorAll(".chip-selector .chip").forEach(e=>e.classList.remove("selected")),e.classList.add("selected"),state.currentChip=parseInt(e.dataset.value),saveState()})})}function syncChipSelection(){document.querySelectorAll(".chip-selector .chip").forEach(e=>e.classList.remove("selected"));const e=document.querySelector(`.chip-selector .chip[data-value="${state.currentChip}"]`);if(e)e.classList.add("selected");else{state.currentChip=10;const e=document.querySelector('.chip-selector .chip[data-value="10"]');e&&e.classList.add("selected")}}function initBetBoxes(){document.querySelectorAll(".bet-box").forEach(e=>{const t=e.dataset.bet;let a=null,n=!1;const s=s=>{n=!1,a=setTimeout(()=>{n=!0,clearBet(t),navigator.vibrate&&navigator.vibrate(50),e.style.transform="scale(0.95)",setTimeout(()=>{e.style.transform=""},100)},500)},l=e=>{if(a&&clearTimeout(a),!n){let a;if(e.preventDefault(),"multi"===state.gameMode){const e=state.players.find(e=>e.id===state.currentPlayerId);a=e?e.currentChip:50}else a=state.currentChip;placeBet(t,a)}n=!1},o=()=>{a&&clearTimeout(a),n=!1};e.addEventListener("touchstart",s,{passive:!0}),e.addEventListener("touchend",l),e.addEventListener("touchcancel",o),e.addEventListener("mousedown",s),e.addEventListener("mouseup",l),e.addEventListener("mouseleave",o),e.addEventListener("contextmenu",e=>{e.preventDefault()})})}function placeBet(e,t){if(state.bets[e]||(state.bets[e]=[]),t>0)if("single"===state.gameMode){if(state.playerBalance<t)return void alert("Èó≤ÂÆ∂‰ΩôÈ¢ù‰∏çË∂≥ÔºÅ");state.bets[e].push(t),state.playerBalance-=t}else{const a=state.players.find(e=>e.id===state.currentPlayerId);if(!a)return void alert("ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™Áé©ÂÆ∂ÔºÅ");if(a.balance<t)return void alert(`${a.name}‰ΩôÈ¢ù‰∏çË∂≥ÔºÅ`);state.bets[e].push({playerId:a.id,amount:t,color:a.color,chipColor:a.chipColor}),a.balance-=t,document.getElementById(`player${a.id}Balance`).textContent=a.balance}else if("single"===state.gameMode){const t=state.bets[e].pop();t&&(state.playerBalance+=t)}else{const t=state.bets[e].pop();if(t){const e=state.players.find(e=>e.id===t.playerId);e&&(e.balance+=t.amount,document.getElementById(`player${e.id}Balance`).textContent=e.balance)}}0===state.bets[e].length&&delete state.bets[e],updateBetDisplay(),updateDisplay(),saveState()}function clearBet(e){if(state.bets[e]){if("single"===state.gameMode){const t=state.bets[e].reduce((e,t)=>e+t,0);state.playerBalance+=t}else state.bets[e].forEach(e=>{const t=state.players.find(t=>t.id===e.playerId);t&&(t.balance+=e.amount,document.getElementById(`player${t.id}Balance`).textContent=t.balance)});delete state.bets[e],updateBetDisplay(),updateDisplay(),saveState()}}function clearAllBets(){if(confirm("Á°ÆÂÆöË¶ÅÊ∏ÖÈô§ÊâÄÊúâÊäºÊ≥®ÂêóÔºüÊäºÊ≥®ÁöÑÁ≠πÁ†ÅÂ∞Ü‰ºöÈÄÄËøò„ÄÇ")){if("single"===state.gameMode){let e=0;Object.keys(state.bets).forEach(t=>{const a=state.bets[t].reduce((e,t)=>e+t,0);e+=a}),state.playerBalance+=e}else Object.keys(state.bets).forEach(e=>{state.bets[e].forEach(e=>{const t=state.players.find(t=>t.id===e.playerId);t&&(t.balance+=e.amount,document.getElementById(`player${t.id}Balance`).textContent=t.balance)})});state.bets={},updateBetDisplay(),updateDisplay(),saveState()}}function formatChipAmount(e){return e>=1e3?(e/1e3).toFixed(e%1e3==0?0:1)+"K":e}function updateBetDisplay(){document.querySelectorAll(".bet-box").forEach(e=>{const t=e.dataset.bet,a=state.bets[t]||[];let n=e.querySelector(".chip-stack");if(n||(n=document.createElement("div"),n.className="chip-stack",e.appendChild(n)),n.innerHTML="",a.length>0){e.classList.add("has-bet");const t=a.slice(-5);if("single"===state.gameMode){t.forEach(e=>{const t=document.createElement("div");t.className=`chip-item chip-${e}`,t.textContent=e>=1e3?"1K":e,n.appendChild(t)});const e=a.reduce((e,t)=>e+t,0),s=document.createElement("div");s.className="chip-total",s.textContent=formatChipAmount(e),n.appendChild(s)}else{const e={};a.forEach(t=>{e[t.playerId]||(e[t.playerId]={chips:[],total:0,color:t.color,chipColor:t.chipColor}),e[t.playerId].chips.push(t.amount),e[t.playerId].total+=t.amount}),Object.values(e).forEach(e=>{e.chips.slice(-3).forEach(t=>{const a=document.createElement("div");a.className="chip-item",a.textContent=t>=1e3?"1K":t,a.style.background=`radial-gradient(circle, ${e.color}, ${e.chipColor})`,n.appendChild(a)});const t=document.createElement("div");t.className="chip-total",t.textContent=formatChipAmount(e.total),t.style.background="#000",t.style.borderColor=e.color,t.style.color=e.color,n.appendChild(t)})}}else e.classList.remove("has-bet")});let e=0;Object.values(state.bets).forEach(t=>{Array.isArray(t)&&(e+=t.reduce((e,t)=>e+t,0))}),document.getElementById("totalBetDisplay").textContent=e}function updatePreview(){const e=document.getElementById("previewDice"),t=document.getElementById("previewTotal"),a=document.getElementById("previewType"),n=state.selectedDice,s=e.querySelectorAll(".preview-die");n.forEach((e,t)=>{s[t].textContent=null!==e?diceSymbols[e-1]:"?"});const l=document.getElementById("confirmBtn");if(n.every(e=>null!==e)){const e=n.reduce((e,t)=>e+t,0),s=n[0]===n[1]&&n[1]===n[2];t.textContent=e;let o=s?"Âõ¥È™∞! ":"";o+=e>=11?"Â§ß":"Â∞è",o+=" / ",o+=e%2==1?"Âçï":"Âèå",a.textContent=o,l&&(l.disabled=!1,l.classList.remove("disabled"))}else t.textContent="-",a.textContent="-",l&&(l.disabled=!0,l.classList.add("disabled"))}function confirmResult(){const e=state.selectedDice;if(!e.every(e=>null!==e))return void alert("ËØ∑ÂÖàÈÄâÊã©‰∏â‰∏™È™∞Â≠êÁöÑÁÇπÊï∞ÔºÅ");const t=e.reduce((e,t)=>e+t,0),a=e[0]===e[1]&&e[1]===e[2];state.round++,calculateWinnings(e,t,a),state.history.unshift({dice:[...e],total:t,isTriple:a,time:(new Date).toLocaleTimeString()}),state.history.length>20&&state.history.pop(),highlightWinningBets(e,t,a),resetDiceSelection(),updateDisplay(),saveState()}function highlightWinningBets(e,t,a){document.querySelectorAll(".bet-box").forEach(e=>{e.classList.remove("winning")});const n=[];a||(t>=11&&t<=17?n.push("big"):t>=4&&t<=10&&n.push("small"),t%2==1?n.push("odd"):n.push("even")),n.push(`total-${t}`),a&&(n.push(`triple-${e[0]}`),n.push("any-triple"));const s={};e.forEach(e=>{s[e]=(s[e]||0)+1}),Object.keys(s).forEach(e=>{n.push(`single-${e}`)});const l=[...e].sort((e,t)=>e-t);for(let e=0;e<l.length;e++)for(let t=e+1;t<l.length;t++)l[e]!==l[t]&&n.push(`double-${l[e]}-${l[t]}`);Object.keys(s).forEach(e=>{s[e]>=2&&n.push(`pair-${e}`)}),n.forEach(e=>{const t=document.querySelector(`[data-bet="${e}"]`);t&&t.classList.add("winning")}),setTimeout(()=>{document.querySelectorAll(".bet-box").forEach(e=>{e.classList.remove("winning")})},1e4)}function calculateWinnings(e,t,a){"single"===state.gameMode?calculateSingleModeWinnings(e,t,a):calculateMultiModeWinnings(e,t,a)}function calculateSingleModeWinnings(e,t,a){let n=0,s=0;Object.keys(state.bets).forEach(l=>{const o=state.bets[l];if(!o||0===o.length)return;const c=o.reduce((e,t)=>e+t,0),r=document.querySelector(`[data-bet="${l}"]`);if(!r)return;const i=parseFloat(r.dataset.odds)||1;let d=!1;if("big"===l&&!a&&t>=11&&t<=17&&(d=!0),"small"===l&&!a&&t>=4&&t<=10&&(d=!0),l.startsWith("total-")){const e=parseInt(l.split("-")[1]);t===e&&(d=!0)}if(l.startsWith("triple-")){const t=parseInt(l.split("-")[1]);a&&e[0]===t&&(d=!0)}if("any-triple"===l&&a&&(d=!0),l.startsWith("single-")){const t=parseInt(l.split("-")[1]);e.filter(e=>e===t).length>0&&(d=!0)}if(l.startsWith("double-")){const[t,a,n]=l.split("-").map(Number),s=[...e].sort((e,t)=>e-t);for(let e=0;e<s.length;e++){for(let t=e+1;t<s.length;t++)if(s[e]===a&&s[t]===n||s[e]===n&&s[t]===a){d=!0;break}if(d)break}}if(l.startsWith("pair-")){const t=parseInt(l.split("-")[1]);e.filter(e=>e===t).length>=2&&(d=!0)}d?(s+=c+c*i,n-=c*i):n+=c}),setTimeout(()=>{if(state.bankerBalance+=n,state.playerBalance+=s,state.bankerBalance=Math.max(0,state.bankerBalance),state.playerBalance=Math.max(0,state.playerBalance),updateDisplay(),saveState(),n>0){const e=document.getElementById("bankerBalance");e&&(e.classList.add("flash-increase"),setTimeout(()=>{e.classList.remove("flash-increase")},800))}if(s>0){const e=document.getElementById("playerBalance");e&&(e.classList.add("flash-increase"),setTimeout(()=>{e.classList.remove("flash-increase")},800))}state.bets={},document.querySelectorAll(".chip-stack").forEach(e=>{e.innerHTML=""}),document.querySelectorAll(".bet-box").forEach(e=>{e.classList.remove("has-bet")}),checkGameOver()},1e4)}function calculateMultiModeWinnings(e,t,a){let n=0;const s={};state.players.forEach(e=>{s[e.id]=0}),Object.keys(state.bets).forEach(l=>{const o=state.bets[l];if(!o||0===o.length)return;const c=document.querySelector(`[data-bet="${l}"]`);if(!c)return;const r=parseFloat(c.dataset.odds)||1,i=checkWinning(l,e,t,a);o.forEach(e=>{const t=e.amount;i?(s[e.playerId]+=t+t*r,n-=t*r):n+=t})}),setTimeout(()=>{if(0!==n){state.bankerBalance+=n;const e=document.getElementById("bankerBalance");e&&(e.textContent=state.bankerBalance,e.classList.add("flash-increase"),setTimeout(()=>{e.classList.remove("flash-increase")},800))}if(state.players.forEach(e=>{const t=s[e.id];if(0!==t){e.balance+=t;const a=document.getElementById(`player${e.id}Balance`);a&&(a.textContent=e.balance,a.classList.add("flash-increase"),setTimeout(()=>{a.classList.remove("flash-increase")},800))}}),n>0){const e=document.getElementById("bankerBalance");e&&(e.textContent=state.bankerBalance,e.classList.add("flash-increase"),setTimeout(()=>{e.classList.remove("flash-increase")},800))}else document.getElementById("bankerBalance").textContent=state.bankerBalance;state.bets={},document.querySelectorAll(".chip-stack").forEach(e=>{e.innerHTML=""}),document.querySelectorAll(".bet-box").forEach(e=>{e.classList.remove("has-bet")}),updateDisplay(),saveState(),checkGameOver()},1e4)}function checkWinning(e,t,a,n){if("big"===e&&!n&&a>=11&&a<=17)return!0;if("small"===e&&!n&&a>=4&&a<=10)return!0;if(e.startsWith("total-")){if(a===parseInt(e.split("-")[1]))return!0}if(e.startsWith("triple-")){const a=parseInt(e.split("-")[1]);if(n&&t[0]===a)return!0}if("any-triple"===e&&n)return!0;if(e.startsWith("single-")){const a=parseInt(e.split("-")[1]);if(t.filter(e=>e===a).length>0)return!0}if(e.startsWith("double-")){const[a,n,s]=e.split("-").map(Number),l=[...t].sort((e,t)=>e-t);for(let e=0;e<l.length;e++)for(let t=e+1;t<l.length;t++)if(l[e]===n&&l[t]===s||l[e]===s&&l[t]===n)return!0}if(e.startsWith("pair-")){const a=parseInt(e.split("-")[1]);if(t.filter(e=>e===a).length>=2)return!0}return!1}function resetDiceSelection(){state.selectedDice=[null,null,null],document.querySelectorAll(".dice-btn").forEach(e=>{e.classList.remove("selected")}),document.querySelectorAll(".dice-input-group").forEach(e=>{e.classList.remove("has-selection")}),updatePreview(),updateConfirmButtonState()}function adjustBalance(e,t){if("banker"===e?state.bankerBalance=Math.max(0,state.bankerBalance+t):state.playerBalance=Math.max(0,state.playerBalance+t),updateDisplay(),t>0){const t="banker"===e?document.getElementById("bankerBalance"):document.getElementById("playerBalance");t&&(t.classList.add("flash-increase"),setTimeout(()=>{t.classList.remove("flash-increase")},800))}saveState(),checkGameOver()}function checkGameOver(){state.bankerBalance<=0?showGameOver("Èó≤ÂÆ∂"):state.playerBalance<=0&&showGameOver("Â∫ÑÂÆ∂")}function showGameOver(e){const t=document.createElement("div");t.className="game-over-overlay";const a=document.createElement("div");a.className="game-over-content",a.innerHTML=`\n        <div class="winner-text">${e} Ëé∑ËÉúÔºÅ</div>\n        <div class="winner-subtitle">üéâ ÊÅ≠Âñú ${e} Ëµ¢ÂæóÊ∏∏Êàè üéâ</div>\n        <button class="restart-btn" onclick="restartGame()">ÈáçÊñ∞ÂºÄÂßã</button>\n    `,t.appendChild(a),document.body.appendChild(t),createFireworks(a)}function createFireworks(e){const t=e.closest(".game-over-overlay");for(let e=0;e<5;e++)setTimeout(()=>{for(let e=0;e<80;e++)setTimeout(()=>{const e=document.createElement("div");e.className="firework";const a=Math.random()*Math.PI*2,n=150+300*Math.random(),s=Math.cos(a)*n,l=Math.sin(a)*n;e.style.setProperty("--x",`${s}px`),e.style.setProperty("--y",`${l}px`);const o=20+60*Math.random(),c=20+60*Math.random();e.style.left=`${o}%`,e.style.top=`${c}%`;const r=["#ffd700","#ff6b6b","#4ecdc4","#45b7d1","#f38181","#95e1d3","#f3a683","#f8b500","#ff3838","#70a1ff"];e.style.background=r[Math.floor(Math.random()*r.length)];const i=4+6*Math.random();e.style.width=`${i}px`,e.style.height=`${i}px`,e.style.boxShadow=`0 0 ${2*i}px ${e.style.background}`,t.appendChild(e),setTimeout(()=>e.remove(),2e3)},15*e)},800*e);const a=setInterval(()=>{if(document.querySelector(".game-over-overlay"))for(let e=0;e<10;e++)setTimeout(()=>{const e=document.createElement("div");e.className="firework";const a=Math.random()*Math.PI*2,n=100+250*Math.random(),s=Math.cos(a)*n,l=Math.sin(a)*n;e.style.setProperty("--x",`${s}px`),e.style.setProperty("--y",`${l}px`),e.style.left=20+60*Math.random()+"%",e.style.top=20+60*Math.random()+"%";const o=["#ffd700","#ff6b6b","#4ecdc4","#45b7d1","#f38181","#95e1d3","#f3a683"],c=o[Math.floor(Math.random()*o.length)];e.style.background=c;const r=4+5*Math.random();e.style.width=`${r}px`,e.style.height=`${r}px`,e.style.boxShadow=`0 0 ${2*r}px ${c}`,t.appendChild(e),setTimeout(()=>e.remove(),1800)},50*e);else clearInterval(a)},1e3)}function restartGame(){state.bankerBalance=500,state.playerBalance=500,updateDisplay(),saveState();const e=document.querySelector(".game-over-overlay");e&&(e.style.animation="fadeOut 0.3s ease",setTimeout(()=>e.remove(),300))}document.addEventListener("DOMContentLoaded",()=>{loadState(),1e4!==state.bankerBalance&&1e4!==state.playerBalance&&5e3!==state.bankerBalance&&5e3!==state.playerBalance||(state.bankerBalance=500,state.playerBalance=500,saveState()),initDiceSelectors(),initChipSelector(),initBetBoxes(),initGameMode(),updateDisplay(),syncChipSelection(),updatePreview()});const style=document.createElement("style");function resetBalance(e){"banker"===e?state.bankerBalance=500:state.playerBalance=500,updateDisplay(),saveState()}function clearHistory(){confirm("Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫ÊâÄÊúâÂéÜÂè≤ËÆ∞ÂΩïÂêóÔºü")&&(state.history=[],updateDisplay(),saveState())}function resetRound(){confirm("Á°ÆÂÆöË¶ÅÈáçÁΩÆÂ±ÄÊï∞ÂêóÔºü")&&(state.round=0,updateDisplay(),saveState())}function updateDisplay(){const e=document.getElementById("roundDisplay");if(e&&(e.textContent=state.round),"single"===state.gameMode){const e=document.getElementById("bankerBalance"),t=document.getElementById("playerBalance");e&&(e.textContent=state.bankerBalance),t&&(t.textContent=state.playerBalance)}else{const e=document.getElementById("bankerBalance");e&&(e.textContent=state.bankerBalance),state.players.forEach(e=>{const t=document.getElementById(`player${e.id}Balance`);t&&(t.textContent=e.balance)})}updateBetDisplay();const t=document.getElementById("historyList");0!==state.history.length?t.innerHTML=state.history.map((e,t)=>{const a=e.isTriple?"triple":e.total>=11?"big":"small",n=e.isTriple?"Âõ¥":e.total>=11?"Â§ß":"Â∞è";return`\n            <div class="history-item ${a}">\n                <span class="history-round">#${state.history.length-t}</span>\n                <span class="history-dice-nums">${e.dice.join(" ")}</span>\n                <span class="history-total">${e.total}</span>\n                <span class="history-size">${n}</span>\n            </div>\n        `}).join(""):t.innerHTML='<div class="empty-history">ÊöÇÊó†ËÆ∞ÂΩï</div>'}function saveState(){localStorage.setItem("sicBoState",JSON.stringify(state))}function loadState(){const e=localStorage.getItem("sicBoState");if(e)try{const t=JSON.parse(e);state.bankerBalance=t.bankerBalance||500,state.playerBalance=t.playerBalance||500,state.history=Array.isArray(t.history)?t.history:[],state.currentChip=t.currentChip||50,state.round=t.round||0,state.gameMode=t.gameMode||"single",state.playerCount=t.playerCount||1,Array.isArray(t.players)?state.players=t.players.filter(e=>e&&"object"==typeof e):state.players=[],state.currentPlayerId=t.currentPlayerId||(state.players.length>0?state.players[0].id:1),"multi"===state.gameMode&&0===state.players.length&&initializeMultiPlayers(state.playerCount),state.bets={},t.bets&&"object"==typeof t.bets&&Object.keys(t.bets).forEach(e=>{const a=t.bets[e];Array.isArray(a)?state.bets[e]=a:"number"==typeof a&&a>0&&(state.bets[e]=[a])})}catch(e){console.error("Error loading state:",e),localStorage.removeItem("sicBoState")}}style.textContent="\n    @keyframes fadeOut {\n        from { opacity: 1; }\n        to { opacity: 0; }\n    }\n",document.head.appendChild(style);let tempGameMode="single",tempPlayerCount=2;function openModeModal(){if("single"===(state.gameMode||"single")){tempGameMode="multi",tempPlayerCount=state.playerCount||2;document.getElementById("modeModal").classList.add("active"),updateModeSelection()}else confirm("ÂàáÊç¢Âà∞Âçï‰∫∫Ê®°ÂºèÂ∞ÜÊ∏ÖÈô§ÂΩìÂâçÊ∏∏ÊàèÊï∞ÊçÆÔºåÊòØÂê¶ÁªßÁª≠Ôºü")&&switchToSingleMode()}function closeModeModal(){document.getElementById("modeModal").classList.remove("active")}function setPlayerCount(e){tempPlayerCount=e,updateModeSelection()}function updateModeSelection(){document.querySelectorAll(".player-count-btn").forEach((e,t)=>{t+2===tempPlayerCount?e.classList.add("selected"):e.classList.remove("selected")})}function confirmModeChange(){state.gameMode="multi",state.playerCount=tempPlayerCount,initializeMultiPlayers(tempPlayerCount);document.getElementById("modeIcon").textContent="üë•",switchToMultiMode(),closeModeModal(),saveState()}function initializeMultiPlayers(e){state.players=[];const t=Math.min(e,PLAYER_COLORS.length);for(let e=0;e<t;e++){const t=PLAYER_COLORS[e];t?state.players.push({id:t.id,name:t.name,balance:500,color:t.color,chipColor:t.chipColor,lightColor:t.lightColor,currentChip:50}):console.error(`No color config for player ${e+1}`)}state.players.length>0&&(state.currentPlayerId=state.players[0].id),state.bets={}}function switchToMultiMode(){document.querySelectorAll(".single-mode-section").forEach(e=>{e.style.display="none"}),document.querySelectorAll(".multi-mode-section").forEach(e=>{e.style.display=""});document.getElementById("multiPlayersSection").style.display="flex",document.body.classList.add("multi-mode"),renderMultiPlayersUI(),updateDisplay()}function switchToSingleMode(){state.gameMode="single",state.playerCount=1,state.players=[],state.currentPlayerId=null,state.bets={};const e=document.getElementById("modeIcon");e&&(e.textContent="üë§");const t=document.querySelector(".header-chip-section.single-mode-section"),a=document.querySelector(".score-section.single-mode-section");t&&(t.style.display="flex"),a&&(a.style.display="flex"),document.querySelectorAll(".multi-mode-section").forEach(e=>{e.style.display="none"});const n=document.getElementById("multiPlayersSection");n&&(n.style.display="none",n.innerHTML=""),document.body.classList.remove("multi-mode"),document.querySelectorAll(".chip-stack").forEach(e=>{e.innerHTML=""}),document.querySelectorAll(".bet-box").forEach(e=>{e.classList.remove("has-bet")}),updateDisplay(),saveState()}function renderMultiPlayersUI(){const e=document.getElementById("multiPlayersSection");e?(e.innerHTML="",state.players&&0!==state.players.length?(state.players.forEach(t=>{const a=document.createElement("div");a.className="player-chip-row",a.dataset.playerId=t.id,a.style.color=t.lightColor,t.id===state.currentPlayerId&&a.classList.add("active"),a.innerHTML=`\n            <div class="player-info">\n                <div class="player-color-indicator" style="background: ${t.color};"></div>\n                <span class="player-name">${t.name}</span>\n            </div>\n            <div class="player-balance" id="player${t.id}Balance">${t.balance}</div>\n            <div class="player-chip-selector" id="player${t.id}Chips">\n                ${[10,30,50,100,300,500].map(e=>`\n                    <div class="chip ${e===t.currentChip?"selected":""}" \n                         data-value="${e}"\n                         data-player-id="${t.id}"\n                         onclick="selectPlayerChip(${t.id}, ${e})"\n                         style="background: radial-gradient(circle at 30% 30%, ${t.lightColor}, ${t.chipColor});">\n                        ${e}\n                    </div>\n                `).join("")}\n            </div>\n            <div class="player-controls">\n                <button class="player-control-btn" onclick="adjustPlayerBalance(${t.id}, -100)">-100</button>\n                <button class="player-control-btn" onclick="adjustPlayerBalance(${t.id}, 100)">+100</button>\n                <button class="player-control-btn" onclick="resetPlayerBalance(${t.id})">ÈáçÁΩÆ</button>\n            </div>\n        `,a.addEventListener("click",e=>{e.target.classList.contains("chip")||e.target.classList.contains("player-control-btn")||selectPlayer(t.id)}),e.appendChild(a)}),state.players.length>=4?e.classList.add("has-many-players"):e.classList.remove("has-many-players")):console.error("No players data!")):console.error("multiPlayersSection container not found!")}function selectPlayer(e){state.currentPlayerId=e,document.querySelectorAll(".player-chip-row").forEach(t=>{parseInt(t.dataset.playerId)===e?t.classList.add("active"):t.classList.remove("active")})}function selectPlayerChip(e,t){const a=state.players.find(t=>t.id===e);if(a){a.currentChip=t,selectPlayer(e);document.getElementById(`player${e}Chips`).querySelectorAll(".chip").forEach(e=>{parseInt(e.dataset.value)===t?e.classList.add("selected"):e.classList.remove("selected")}),saveState()}}function adjustPlayerBalance(e,t){const a=state.players.find(t=>t.id===e);if(a){if(a.balance=Math.max(0,a.balance+t),document.getElementById(`player${e}Balance`).textContent=a.balance,t>0){const t=document.getElementById(`player${e}Balance`);t.classList.add("flash-increase"),setTimeout(()=>{t.classList.remove("flash-increase")},800)}saveState(),checkGameOver()}}function resetPlayerBalance(e){const t=state.players.find(t=>t.id===e);t&&(t.balance=500,document.getElementById(`player${e}Balance`).textContent=500,saveState())}function initGameMode(){state.gameMode=state.gameMode||"single",state.playerCount=state.playerCount||2;const e=document.getElementById("modeIcon");e&&(e.textContent="single"===state.gameMode?"üë§":"üë•"),"multi"===state.gameMode&&state.players&&state.players.length>0&&switchToMultiMode(),initDraggableButton()}function initDraggableButton(){const e=document.querySelector(".mode-toggle-btn");if(!e)return;let t,a,n,s,l=!1,o=!1,c=null;const r=localStorage.getItem("modeBtnSide")||"right",i=localStorage.getItem("modeBtnY")||"50%";"left"===r&&e.classList.add("left-side"),e.style.top=i,e.addEventListener("mousedown",m),e.addEventListener("mouseenter",h),e.addEventListener("mouseleave",f);let d=0;function u(e){if(l)return e.preventDefault(),void e.stopPropagation();"touchend"===e.type&&e.preventDefault(),h(),setTimeout(()=>{openModeModal()},150)}function m(o){"mousedown"===o.type&&o.preventDefault(),l=!1;const c=o.touches?o.touches[0]:o;t=c.clientX,a=c.clientY;const r=e.getBoundingClientRect();n=r.left+r.width/2,s=r.top+r.height/2,e.classList.add("dragging"),h(),document.addEventListener("mousemove",p),document.addEventListener("touchmove",p,{passive:!1}),document.addEventListener("mouseup",y),document.addEventListener("touchend",y)}function p(n){n.preventDefault();const o=n.touches?n.touches[0]:n,c=o.clientX-t,r=o.clientY-a;if((Math.abs(c)>5||Math.abs(r)>5)&&(l=!0),l){s+=r,a=o.clientY;const t=window.innerHeight-22.5,n=22.5;s=Math.max(n,Math.min(t,s)),e.style.top=s+"px"}}function y(t){document.removeEventListener("mousemove",p),document.removeEventListener("touchmove",p),document.removeEventListener("mouseup",y),document.removeEventListener("touchend",y),e.classList.remove("dragging");if(l){const t=window.innerWidth/2,a=e.getBoundingClientRect();a.left+a.width/2<t?(e.classList.add("left-side"),e.style.right="auto",localStorage.setItem("modeBtnSide","left")):(e.classList.remove("left-side"),e.style.left="auto",localStorage.setItem("modeBtnSide","right")),localStorage.setItem("modeBtnY",e.style.top),f()}setTimeout(()=>{l=!1},100)}function h(){clearTimeout(c),o=!0,e.classList.add("expanded")}function f(){clearTimeout(c),c=setTimeout(()=>{o=!1,e.classList.remove("expanded")},300)}e.addEventListener("touchstart",e=>{d=Date.now(),h(),m(e)},{passive:!1}),e.addEventListener("touchend",e=>{const t=Date.now()-d;!l&&t<300&&(e.preventDefault(),e.stopPropagation(),u(e))}),e.addEventListener("click",u)}</script></body></html>